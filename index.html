<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PIX API - Documentação</title>

  <!-- Preconnects para performance -->
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>

  <!-- Swagger UI & highlight.js CSS (considere adicionar integrity attributes em deployment) -->
  <link rel="stylesheet"
        href="https://unpkg.com/swagger-ui-dist/swagger-ui.css"
        crossorigin="anonymous">
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css"
        crossorigin="anonymous">

  <!-- App styles (extracted) -->
  <link rel="stylesheet" href="./styles.css">

  <!-- Example CSP meta: prefer configurar via headers do servidor. Remove inline JS/CSS (já extraído) para facilitar CSP -->
  <!--
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https://unpkg.com https://cdnjs.cloudflare.com; script-src 'self' https://unpkg.com https://cdnjs.cloudflare.com; style-src 'self' https://unpkg.com https://cdnjs.cloudflare.com;">
  -->

  <meta name="description" content="Documentação da PIX API — painél interativo com exemplos de resposta" />
</head>
<body>
  <a class="skip-link" href="#content">Pular para o conteúdo</a>

  <div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar" role="navigation" aria-label="Sidebar">
      <div class="brand" aria-hidden="false">
        <div class="brand-text">PIX API</div>
      </div>

      <div class="search" aria-hidden="false">
        <label for="sidebar-search" class="visually-hidden">Buscar endpoints, tags, títulos</label>
        <input id="sidebar-search" type="search" placeholder="Buscar endpoints, tags, títulos..." aria-label="Buscar" />
      </div>

      <nav>
        <ul id="sidebar-menu" class="nav" aria-live="polite" aria-label="Lista de tags"></ul>
      </nav>
    </aside>

    <!-- CONTENT -->
    <main class="content" id="content" tabindex="-1" role="main">
      <div id="swagger-ui" class="swagger-ui" aria-busy="true"></div>

      <div id="loader" class="loader" role="status" aria-live="polite" aria-hidden="false">
        Carregando documentação...
      </div>

      <div id="error" class="panel-empty" role="alert" aria-hidden="true" style="display:none;">
        Não foi possível carregar a documentação. Verifique SWAGGER_URL e a conexão.
      </div>
    </main>

    <!-- RIGHT PANEL -->
    <aside class="code-panel" id="code-panel" aria-live="polite" aria-atomic="true">
      <div class="panel-header" id="panel-header" aria-hidden="false">
        <div class="try">try</div>
        <div id="code-method" class="method-pill default" aria-hidden="false">OP</div>
        <div id="code-path" class="path" title="">/caminho/exemplo</div>
      </div>

      <div>
        <div class="section-title">Response samples</div>
        <div id="response-badges" class="response-badges" aria-hidden="false" role="tablist"></div>

        <div class="code-card" id="response-card" style="margin-top:8px;">
          <div class="top-row">
            <div class="content-type" id="response-content-type">application/json</div>
            <div class="card-controls" id="response-controls">
              <button id="response-copy" type="button" aria-label="Copiar resposta">Copy</button>
              <button id="response-expand" type="button" aria-label="Expandir tudo">Expand all</button>
              <button id="response-collapse" type="button" aria-label="Recolher tudo">Collapse all</button>
            </div>
          </div>
          <div class="code-area" id="response-code-area" tabindex="0">
            <pre><code></code></pre>
          </div>
        </div>
      </div>
    </aside>

  </div>

  <!-- Toast (copy feedback) -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- External scripts (defer). Consider adding integrity attributes in production -->
  <script defer src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js" crossorigin="anonymous"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js" crossorigin="anonymous"></script>

  <!-- App script (module) -->
  <script type="module" src="./app.js"></script>
</body>
</html>
