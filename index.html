<script src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js"></script>
<script>
  const ui = SwaggerUIBundle({
    url: "https://camargofe.github.io/LwcDocumentacaoAPI/pix.yaml",
    dom_id: "#swagger-ui",
    layout: "BaseLayout",
    onComplete: () => {
      buildSidebar();
    }
  });

  function buildSidebar() {
    const menu = document.getElementById("sidebar-menu");
    menu.innerHTML = "";

    // Cada tag vira uma seção
    const sections = document.querySelectorAll(".opblock-tag");

    sections.forEach(section => {
      const title = section.querySelector(".opblock-tag-section h3 span");
      if (!title) return;

      const li = document.createElement("li");
      li.textContent = title.textContent.trim();
      li.style.cursor = "pointer";

      li.onclick = () => {
        section.scrollIntoView({
          behavior: "smooth",
          block: "start"
        });
      };

      menu.appendChild(li);
    });
  }
</script>
